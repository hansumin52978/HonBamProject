{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AuthContext from './AuthContext';\n\n// 모든 fetch 요청을 하나의 함수를 사용하여 처리할 수 있게 하는 로직.\nconst HttpService = async (url, options) => {\n  _s();\n  const redirection = useNavigate();\n  const {\n    onLogout\n  } = useContext(AuthContext);\n  const res = await fetch(url, options);\n  if (res.status === 401) {\n    // 토큰 만료 관련 처리\n    const data = await res.json();\n    console.log('401 토큰 만료! : '.data);\n    onLogout();\n    alert('토큰이 만료되었습니다. 다시 로그인 해 주세요.');\n    redirection('/login');\n    return;\n  }\n  return res;\n};\n_s(HttpService, \"qaTR/ceVhsyVD8qFq6dXSOo66jg=\", false, function () {\n  return [useNavigate];\n});\n_c = HttpService;\nexport default HttpService;\nvar _c;\n$RefreshReg$(_c, \"HttpService\");","map":{"version":3,"names":["useContext","useNavigate","AuthContext","HttpService","url","options","_s","redirection","onLogout","res","fetch","status","data","json","console","log","alert","_c","$RefreshReg$"],"sources":["C:/MyWork/HonBamProject/src/util/HttpService.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport AuthContext from './AuthContext';\r\n\r\n// 모든 fetch 요청을 하나의 함수를 사용하여 처리할 수 있게 하는 로직.\r\nconst HttpService = async (url, options) => {\r\n  const redirection = useNavigate();\r\n  const { onLogout } = useContext(AuthContext);\r\n\r\n  const res = await fetch(url, options);\r\n\r\n  if (res.status === 401) {\r\n    // 토큰 만료 관련 처리\r\n    const data = await res.json();\r\n    console.log('401 토큰 만료! : '.data);\r\n    onLogout();\r\n    alert('토큰이 만료되었습니다. 다시 로그인 해 주세요.');\r\n    redirection('/login');\r\n    return;\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nexport default HttpService;\r\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,WAAW,MAAM,eAAe;;AAEvC;AACA,MAAMC,WAAW,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,KAAK;EAAAC,EAAA;EAC1C,MAAMC,WAAW,GAAGN,WAAW,CAAC,CAAC;EACjC,MAAM;IAAEO;EAAS,CAAC,GAAGR,UAAU,CAACE,WAAW,CAAC;EAE5C,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEC,OAAO,CAAC;EAErC,IAAII,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;IACtB;IACA,MAAMC,IAAI,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;IAC7BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAACH,IAAI,CAAC;IACjCJ,QAAQ,CAAC,CAAC;IACVQ,KAAK,CAAC,4BAA4B,CAAC;IACnCT,WAAW,CAAC,QAAQ,CAAC;IACrB;EACF;EAEA,OAAOE,GAAG;AACZ,CAAC;AAACH,EAAA,CAjBIH,WAAW;EAAA,QACKF,WAAW;AAAA;AAAAgB,EAAA,GAD3Bd,WAAW;AAmBjB,eAAeA,WAAW;AAAC,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}